<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Exploring the Election data: a case study of 2016 • eechidna</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Exploring the Election data: a case study of 2016">
<meta property="og:description" content="eechidna">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eechidna</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.4.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/eechidna-intro.html">An Introduction to Exploring Election and Census Highly Informative Data Nationally for Australia</a>
    </li>
    <li>
      <a href="../articles/exploring-census-data.html">Exploring the Census data: A case study of 2016</a>
    </li>
    <li>
      <a href="../articles/exploring-election-data.html">Exploring the Election data: a case study of 2016</a>
    </li>
    <li>
      <a href="../articles/getting-ozShapefiles.html">Getting Oz Electorate shapefiles into shape</a>
    </li>
    <li>
      <a href="../articles/imputing-census-data.html">Imputing electoral Census data for election years</a>
    </li>
    <li>
      <a href="../articles/plotting-electorates.html">Mapping Australia's Electorates</a>
    </li>
    <li>
      <a href="../articles/plotting-polling-stns.html">Plotting Australia's Polling Booths</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jforbes14/eechidna/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="exploring-election-data_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Exploring the Election data: a case study of 2016</h1>
                        <h4 data-toc-skip class="author">Ben Marwick, Di Cook, Jeremy Forbes, Heike Hofmann, Rob Hyndman, Carson Sievert, Nicholas Tierney and Fang Zhou</h4>
            
            <h4 data-toc-skip class="date">2023-02-23</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/jforbes14/eechidna/blob/HEAD/vignettes/exploring-election-data.Rmd" class="external-link"><code>vignettes/exploring-election-data.Rmd</code></a></small>
      <div class="hidden name"><code>exploring-election-data.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p><code>eechidna</code> (Exploring Election and Census Highly Informative Data Nationally for Australia) is an R package that makes it easy to look at the data from Australian Census and Federal Elections from 2001 to 2016.</p>
<p>This vignette documents how to access the data from the 2016 Federal Election (House of Representatives: first preferences, two party preferred and two candidate preferred votes). We obtained these data from <a href="http://results.aec.gov.au/" class="external-link uri">http://results.aec.gov.au/</a>. This package incorporates data that is copyright Commonwealth of Australia (Australian Electoral Commission).</p>
<p>In this vignette we show a few typical methods to explore the data, inspired by <a href="https://github.com/ellisp/" class="external-link">Peter Ellis’s</a> work on NZ election data.</p>
</div>
<div class="section level2">
<h2 id="federal-election-house-of-representatives-data">2016 Federal Election House of Representatives data<a class="anchor" aria-label="anchor" href="#federal-election-house-of-representatives-data"></a>
</h2>
<div class="section level4">
<h4 id="electorates">Electorates<a class="anchor" aria-label="anchor" href="#electorates"></a>
</h4>
<p>In the <code>eechidna</code> package we have three datasets for each election, summarised here:</p>
<table class="table">
<colgroup>
<col width="27%">
<col width="72%">
</colgroup>
<thead><tr class="header">
<th>Data object name</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>fp16</td>
<td>first preference votes for candidates at each electorate (2016)</td>
</tr>
<tr class="even">
<td>tpp16</td>
<td>two party preferred votes for candidates at each electorate (2016)</td>
</tr>
<tr class="odd">
<td>tcp16</td>
<td>two condidate preferred votes for candidates at each electorate (2016)</td>
</tr>
</tbody>
</table>
<p>The suffix <code>16</code> corresponds with the 2016 federal election, so objects for other elections will have an equivalent suffix, e.g. <code>fp07</code> contains first preference votes for candidates in each electorate from the 2007 federal election.</p>
<p>We can access and explore each of these using common methods in R, for example:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jforbes14/eechidna/" class="external-link">eechidna</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://purrr.tidyverse.org/" class="external-link">purrr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/" class="external-link">knitr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://broom.tidymodels.org/" class="external-link">broom</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hadley/purrrlyr" class="external-link">purrrlyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">fp16</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">tpp16</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">tcp16</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">abs2016</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># inspect the data frame</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">fp16</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Rows: 994</span></span>
<span><span class="co">## Columns: 13</span></span>
<span><span class="co">## $ UniqueID        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 801, 801, 801, 801, 802, 802, 802, 802, 802, 101, 101,…</span></span>
<span><span class="co">## $ StateAb         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "ACT", "ACT", "ACT", "ACT", "ACT", "ACT", "ACT", "ACT"…</span></span>
<span><span class="co">## $ DivisionNm      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "CANBERRA", "CANBERRA", "CANBERRA", "CANBERRA", "FENNE…</span></span>
<span><span class="co">## $ BallotPosition  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 2, 3, 4, 1, 2, 3, 4, 5, 1, 2, 3, 4, 5, 6, 7, 1, 2, …</span></span>
<span><span class="co">## $ CandidateID     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 28189, 28336, 29373, 28989, 28190, 28200, 28983, 28320…</span></span>
<span><span class="co">## $ Surname         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "BRODTMANN", "CAHILL", "BUCKNELL", "ADELAN-LANGFORD", …</span></span>
<span><span class="co">## $ GivenNm         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "GAI", "PATRICIA", "CHRISTOPHER D'ARCY", "JESSICA", "A…</span></span>
<span><span class="co">## $ PartyAb         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "ALP", "GRN", "BTA", "LP", "ALP", "IND", "LP", "GRN", …</span></span>
<span><span class="co">## $ PartyNm         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "AUSTRALIAN LABOR PARTY", "THE GREENS", "BULLET TRAIN …</span></span>
<span><span class="co">## $ Elected         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Y", "N", "N", "N", "Y", "N", "N", "N", "N", "N", "N",…</span></span>
<span><span class="co">## $ HistoricElected <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Y", "N", "N", "N", "Y", "N", "N", "N", "N", "N", "N",…</span></span>
<span><span class="co">## $ OrdinaryVotes   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 55091, 19200, 6013, 48416, 56796, 4707, 38930, 18929, …</span></span>
<span><span class="co">## $ Percent         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 42.80, 14.92, 4.67, 37.61, 45.80, 3.80, 31.39, 15.26, …</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># show the first few rows</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">fp16</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">kable</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="5%">
<col width="4%">
<col width="6%">
<col width="8%">
<col width="7%">
<col width="9%">
<col width="11%">
<col width="4%">
<col width="15%">
<col width="4%">
<col width="9%">
<col width="8%">
<col width="4%">
</colgroup>
<thead><tr class="header">
<th align="right">UniqueID</th>
<th align="left">StateAb</th>
<th align="left">DivisionNm</th>
<th align="right">BallotPosition</th>
<th align="right">CandidateID</th>
<th align="left">Surname</th>
<th align="left">GivenNm</th>
<th align="left">PartyAb</th>
<th align="left">PartyNm</th>
<th align="left">Elected</th>
<th align="left">HistoricElected</th>
<th align="right">OrdinaryVotes</th>
<th align="right">Percent</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">801</td>
<td align="left">ACT</td>
<td align="left">CANBERRA</td>
<td align="right">1</td>
<td align="right">28189</td>
<td align="left">BRODTMANN</td>
<td align="left">GAI</td>
<td align="left">ALP</td>
<td align="left">AUSTRALIAN LABOR PARTY</td>
<td align="left">Y</td>
<td align="left">Y</td>
<td align="right">55091</td>
<td align="right">42.80</td>
</tr>
<tr class="even">
<td align="right">801</td>
<td align="left">ACT</td>
<td align="left">CANBERRA</td>
<td align="right">2</td>
<td align="right">28336</td>
<td align="left">CAHILL</td>
<td align="left">PATRICIA</td>
<td align="left">GRN</td>
<td align="left">THE GREENS</td>
<td align="left">N</td>
<td align="left">N</td>
<td align="right">19200</td>
<td align="right">14.92</td>
</tr>
<tr class="odd">
<td align="right">801</td>
<td align="left">ACT</td>
<td align="left">CANBERRA</td>
<td align="right">3</td>
<td align="right">29373</td>
<td align="left">BUCKNELL</td>
<td align="left">CHRISTOPHER D’ARCY</td>
<td align="left">BTA</td>
<td align="left">BULLET TRAIN FOR AUSTRALIA</td>
<td align="left">N</td>
<td align="left">N</td>
<td align="right">6013</td>
<td align="right">4.67</td>
</tr>
<tr class="even">
<td align="right">801</td>
<td align="left">ACT</td>
<td align="left">CANBERRA</td>
<td align="right">4</td>
<td align="right">28989</td>
<td align="left">ADELAN-LANGFORD</td>
<td align="left">JESSICA</td>
<td align="left">LP</td>
<td align="left">LIBERAL PARTY</td>
<td align="left">N</td>
<td align="left">N</td>
<td align="right">48416</td>
<td align="right">37.61</td>
</tr>
<tr class="odd">
<td align="right">802</td>
<td align="left">ACT</td>
<td align="left">FENNER</td>
<td align="right">1</td>
<td align="right">28190</td>
<td align="left">LEIGH</td>
<td align="left">ANDREW KEITH</td>
<td align="left">ALP</td>
<td align="left">AUSTRALIAN LABOR PARTY</td>
<td align="left">Y</td>
<td align="left">Y</td>
<td align="right">56796</td>
<td align="right">45.80</td>
</tr>
<tr class="even">
<td align="right">802</td>
<td align="left">ACT</td>
<td align="left">FENNER</td>
<td align="right">2</td>
<td align="right">28200</td>
<td align="left">WOODMAN</td>
<td align="left">ANDREW</td>
<td align="left">IND</td>
<td align="left">INDEPENDENT</td>
<td align="left">N</td>
<td align="left">N</td>
<td align="right">4707</td>
<td align="right">3.80</td>
</tr>
</tbody>
</table>
<p>We can see that the data contains 994 rows and 13 columns. Each of the six data objects can be accessed and inspected in this way. Note that some parties have slightly different names in different states. We’ve simplified the data by renaming some of the parties to the varient of the name that won the most votes.</p>
</div>
<div class="section level4">
<h4 id="polling-booths">Polling booths<a class="anchor" aria-label="anchor" href="#polling-booths"></a>
</h4>
<p>The same three voting measures are also available for each polling booth, of which there are over 7,000 in each election. These can be downloaded from github using the <code>firstpref_pollingbooth_download</code>, <code>twoparty_pollingbooth_download</code> and <code>twocand_pollingbooth_download</code> functions, which contain all results from 2001-2016 elections. In these datasets, the variable <code>year</code> represents the election year, so an individual years’ polling booth data can be easily obtained using <code>filter</code> from the <code>dplyr</code> package.</p>
</div>
</div>
<div class="section level2">
<h2 id="exploring-the-election-results">Exploring the election results<a class="anchor" aria-label="anchor" href="#exploring-the-election-results"></a>
</h2>
<div class="section level4">
<h4 id="which-party-won-the-election">Which party won the election?<a class="anchor" aria-label="anchor" href="#which-party-won-the-election"></a>
</h4>
<p>We can summarise the data to discover some basic details about the election. Let’s start by reproducing the overall result of the election by finding out which party won the most electorates according to the two candidate preferred votes:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">who_won</span> <span class="op">&lt;-</span> <span class="va">tcp16</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Elected</span> <span class="op">==</span> <span class="st">"Y"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">PartyNm</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">tally</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># inspect</span></span>
<span><span class="va">who_won</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">PartyNm</th>
<th align="right">n</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">AUSTRALIAN LABOR PARTY</td>
<td align="right">69</td>
</tr>
<tr class="even">
<td align="left">LIBERAL PARTY</td>
<td align="right">66</td>
</tr>
<tr class="odd">
<td align="left">NATIONAL PARTY</td>
<td align="right">10</td>
</tr>
<tr class="even">
<td align="left">INDEPENDENT</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">KATTER’S AUSTRALIAN PARTY</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">NICK XENOPHON TEAM</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">THE GREENS</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># plot</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://scales.r-lib.org" class="external-link">scales</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">who_won</span>, </span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">PartyNm</span>, <span class="va">n</span><span class="op">)</span>, </span>
<span>           <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="va">comma</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Total number of electorates"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"Party"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="exploring-election-data_files/figure-html/who_won-1.png" width="576" style="display: block; margin: auto;"></p>
<p>This result above matches the official AEC result, showing the Liberal party winning the most electorates (76).</p>
</div>
<div class="section level4">
<h4 id="which-party-received-the-most-ordinary-votes">Which party received the most ordinary votes?<a class="anchor" aria-label="anchor" href="#which-party-received-the-most-ordinary-votes"></a>
</h4>
<p>An alternative way to evaluate the outcome of the election is by counting the number of ordinary first preference votes for each party (not including postal votes, preference flows, etc.). Here we can find the total number of ordinary votes for each party:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">total_votes_for_parties</span> <span class="op">&lt;-</span> <span class="va">fp16</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">PartyNm</span>, <span class="va">OrdinaryVotes</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">PartyNm</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>total_votes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">OrdinaryVotes</span>, rm.na <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">total_votes</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#  inspect</span></span>
<span><span class="va">total_votes_for_parties</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="va">head</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="co"># just the first 10 rows</span></span>
<span>  <span class="va">kable</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">PartyNm</th>
<th align="right">total_votes</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">LIBERAL PARTY</td>
<td align="right">5069051</td>
</tr>
<tr class="even">
<td align="left">AUSTRALIAN LABOR PARTY</td>
<td align="right">4702297</td>
</tr>
<tr class="odd">
<td align="left">THE GREENS</td>
<td align="right">1385651</td>
</tr>
<tr class="even">
<td align="left">NATIONAL PARTY</td>
<td align="right">624556</td>
</tr>
<tr class="odd">
<td align="left">INDEPENDENT</td>
<td align="right">383671</td>
</tr>
<tr class="even">
<td align="left">NICK XENOPHON TEAM</td>
<td align="right">250334</td>
</tr>
</tbody>
</table>
<p>The table above shows a similar result, with the Liberal Party recieving the most ordinary votes.</p>
<p>We can plot the ordinary vote count like so:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">total_votes_for_parties</span>, </span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">PartyNm</span>, <span class="va">total_votes</span><span class="op">)</span>, </span>
<span>           <span class="va">total_votes</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="va">comma</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Total ordinary votes"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"Party"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="exploring-election-data_files/figure-html/plot_total_votes_for_parties-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div class="section level4">
<h4 id="which-candidate-did-the-best">Which candidate did the best?<a class="anchor" aria-label="anchor" href="#which-candidate-did-the-best"></a>
</h4>
<p>There are a few ways we can answer this question. We can see who received the highest number of ordinary votes, like this:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">who_most_votes</span> <span class="op">&lt;-</span> <span class="va">fp16</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">CandidateID</span> <span class="op">!=</span> <span class="fl">999</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="co">#exclude informal votes</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>candidate_full_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">GivenNm</span>, <span class="st">" "</span>, <span class="va">Surname</span>, <span class="st">" ("</span>, <span class="va">CandidateID</span>, <span class="st">")"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">candidate_full_name</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>total_votes_for_candidate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">OrdinaryVotes</span>, rm.na <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">total_votes_for_candidate</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># inspect</span></span>
<span><span class="va">who_most_votes</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>total_votes_for_candidate <span class="op">=</span> </span>
<span>           <span class="fu"><a href="https://rdrr.io/r/base/formatc.html" class="external-link">prettyNum</a></span><span class="op">(</span><span class="va">total_votes_for_candidate</span>, </span>
<span>                     big.mark <span class="op">=</span> <span class="st">","</span><span class="op">)</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="va">head</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="va">kable</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">candidate_full_name</th>
<th align="left">total_votes_for_candidate</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">BRENDAN O’CONNOR (28274)</td>
<td align="left">61,111</td>
</tr>
<tr class="even">
<td align="left">PAUL FLETCHER (28565)</td>
<td align="left">57,232</td>
</tr>
<tr class="odd">
<td align="left">ANDREW KEITH LEIGH (28190)</td>
<td align="left">56,797</td>
</tr>
<tr class="even">
<td align="left">MICHAEL MCCORMACK (29304)</td>
<td align="left">56,582</td>
</tr>
<tr class="odd">
<td align="left">ANDREW BROAD (28415)</td>
<td align="left">56,252</td>
</tr>
<tr class="even">
<td align="left">JULIE BISHOP (28746)</td>
<td align="left">56,176</td>
</tr>
</tbody>
</table>
<p>But this is a crude measure of how successful a candidate was in the election, because electorates with more people will result in more votes for the winner, even if the victory is only by a tiny margin. So let’s remove the effect of the population size in the electorates by finding out who won the highest proportion of first preference votes in their electorate.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">who_most_votes_prop</span> <span class="op">&lt;-</span> <span class="va">fp16</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">CandidateID</span> <span class="op">!=</span> <span class="fl">999</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="co">#exclude informal votes</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>candidate_full_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">GivenNm</span>, <span class="st">" "</span>, <span class="va">Surname</span>, <span class="st">" ("</span>, <span class="va">CandidateID</span>, <span class="st">")"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">candidate_full_name</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>total_votes_for_candidate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">Percent</span>, rm.na <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">total_votes_for_candidate</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>percent_votes_for_candidate <span class="op">=</span> <span class="va">total_votes_for_candidate</span><span class="op">)</span></span>
<span><span class="co"># inspect</span></span>
<span><span class="va">who_most_votes_prop</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>percent_votes_for_candidate <span class="op">=</span> </span>
<span>           <span class="fu"><a href="https://rdrr.io/r/base/formatc.html" class="external-link">prettyNum</a></span><span class="op">(</span><span class="va">percent_votes_for_candidate</span>, </span>
<span>                     big.mark <span class="op">=</span> <span class="st">","</span><span class="op">)</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="va">head</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="va">kable</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">candidate_full_name</th>
<th align="left">percent_votes_for_candidate</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">JULIE BISHOP (28746)</td>
<td align="left">66.5</td>
</tr>
<tr class="even">
<td align="left">ANDREW BROAD (28415)</td>
<td align="left">65.31</td>
</tr>
<tr class="odd">
<td align="left">JASON CLARE (28931)</td>
<td align="left">64.31</td>
</tr>
<tr class="even">
<td align="left">BRENDAN O’CONNOR (28274)</td>
<td align="left">63.29</td>
</tr>
<tr class="odd">
<td align="left">MALCOLM TURNBULL (28638)</td>
<td align="left">63.26</td>
</tr>
<tr class="even">
<td align="left">PAUL FLETCHER (28565)</td>
<td align="left">62.12</td>
</tr>
</tbody>
</table>
<p>In the above table (which shows just the first ten rows for convienience) we see that Julie Bishop received the highest proportion of first preference votes in any electorate, as well as a few more familiar names doing very well in their electorates. We can see that taking about 65% of the first preference vote in an electorate counts as a huge win. But what about who won with the least amount of first preference votes?</p>
</div>
<div class="section level4">
<h4 id="which-candidate-won-with-the-smallest-percentage-of-votes">Which candidate won with the smallest percentage of votes?<a class="anchor" aria-label="anchor" href="#which-candidate-won-with-the-smallest-percentage-of-votes"></a>
</h4>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">who_won_least_votes_prop</span> <span class="op">&lt;-</span> <span class="va">fp16</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Elected</span> <span class="op">==</span> <span class="st">"Y"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">Percent</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>candidate_full_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">GivenNm</span>, <span class="st">" "</span>, <span class="va">Surname</span>, <span class="st">" ("</span>, <span class="va">CandidateID</span>, <span class="st">")"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">candidate_full_name</span>, <span class="va">PartyNm</span>, <span class="va">DivisionNm</span>, <span class="va">Percent</span><span class="op">)</span></span>
<span></span>
<span><span class="va">who_won_least_votes_prop</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">head</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">kable</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">candidate_full_name</th>
<th align="left">PartyNm</th>
<th align="left">DivisionNm</th>
<th align="right">Percent</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">MICHAEL DANBY (28267)</td>
<td align="left">AUSTRALIAN LABOR PARTY</td>
<td align="left">MELBOURNE PORTS</td>
<td align="right">27.00</td>
</tr>
<tr class="even">
<td align="left">CATHY O’TOOLE (28997)</td>
<td align="left">AUSTRALIAN LABOR PARTY</td>
<td align="left">HERBERT</td>
<td align="right">30.45</td>
</tr>
<tr class="odd">
<td align="left">JUSTINE ELLIOT (28987)</td>
<td align="left">AUSTRALIAN LABOR PARTY</td>
<td align="left">RICHMOND</td>
<td align="right">31.05</td>
</tr>
<tr class="even">
<td align="left">TERRI BUTLER (28921)</td>
<td align="left">AUSTRALIAN LABOR PARTY</td>
<td align="left">GRIFFITH</td>
<td align="right">33.18</td>
</tr>
<tr class="odd">
<td align="left">STEVE GEORGANAS (29071)</td>
<td align="left">AUSTRALIAN LABOR PARTY</td>
<td align="left">HINDMARSH</td>
<td align="right">34.02</td>
</tr>
<tr class="even">
<td align="left">CATHY MCGOWAN (23288)</td>
<td align="left">INDEPENDENT</td>
<td align="left">INDI</td>
<td align="right">34.76</td>
</tr>
</tbody>
</table>
<p>Michael Danby won Melbourne Ports with just 27% of first preference votes.</p>
<p>How about the smallest winning margin that occured in the 2016 election? Let’s find the candidates who won their electorate by the slimmest advantage over their competitors, meaning the smallest difference between two candidate preferred votes.</p>
</div>
<div class="section level4">
<h4 id="which-candidate-won-by-the-smallest-margin">Which candidate won by the smallest margin?<a class="anchor" aria-label="anchor" href="#which-candidate-won-by-the-smallest-margin"></a>
</h4>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">who_won_smallest_margin</span> <span class="op">&lt;-</span> <span class="va">tcp16</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Elected</span> <span class="op">==</span> <span class="st">"Y"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>percent_margin <span class="op">=</span> <span class="fl">2</span><span class="op">*</span><span class="op">(</span><span class="va">Percent</span> <span class="op">-</span> <span class="fl">50</span><span class="op">)</span>, vote_margin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">percent_margin</span> <span class="op">*</span> <span class="va">OrdinaryVotes</span> <span class="op">/</span> <span class="va">Percent</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">Percent</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>candidate_full_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">GivenNm</span>, <span class="st">" "</span>, <span class="va">Surname</span>, <span class="st">" ("</span>, <span class="va">CandidateID</span>, <span class="st">")"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">candidate_full_name</span>, <span class="va">PartyNm</span>, <span class="va">DivisionNm</span>, <span class="va">Percent</span>, <span class="va">OrdinaryVotes</span>, <span class="va">percent_margin</span>, <span class="va">vote_margin</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># have a look</span></span>
<span><span class="va">who_won_smallest_margin</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span> <span class="va">head</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span> <span class="va">kable</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="22%">
<col width="21%">
<col width="11%">
<col width="7%">
<col width="12%">
<col width="13%">
<col width="11%">
</colgroup>
<thead><tr class="header">
<th align="left">candidate_full_name</th>
<th align="left">PartyNm</th>
<th align="left">DivisionNm</th>
<th align="right">Percent</th>
<th align="right">OrdinaryVotes</th>
<th align="right">percent_margin</th>
<th align="right">vote_margin</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">CATHY O’TOOLE (28997)</td>
<td align="left">AUSTRALIAN LABOR PARTY</td>
<td align="left">HERBERT</td>
<td align="right">50.02</td>
<td align="right">44187</td>
<td align="right">0.04</td>
<td align="right">35</td>
</tr>
<tr class="even">
<td align="left">STEVE GEORGANAS (29071)</td>
<td align="left">AUSTRALIAN LABOR PARTY</td>
<td align="left">HINDMARSH</td>
<td align="right">50.58</td>
<td align="right">49586</td>
<td align="right">1.16</td>
<td align="right">1137</td>
</tr>
<tr class="odd">
<td align="left">MICHELLE LANDRY (28034)</td>
<td align="left">LIBERAL PARTY</td>
<td align="left">CAPRICORNIA</td>
<td align="right">50.63</td>
<td align="right">44633</td>
<td align="right">1.26</td>
<td align="right">1111</td>
</tr>
<tr class="even">
<td align="left">BERT VAN MANEN (28039)</td>
<td align="left">LIBERAL PARTY</td>
<td align="left">FORDE</td>
<td align="right">50.63</td>
<td align="right">42486</td>
<td align="right">1.26</td>
<td align="right">1057</td>
</tr>
<tr class="odd">
<td align="left">ANNE ALY (28727)</td>
<td align="left">AUSTRALIAN LABOR PARTY</td>
<td align="left">COWAN</td>
<td align="right">50.68</td>
<td align="right">41301</td>
<td align="right">1.36</td>
<td align="right">1108</td>
</tr>
<tr class="even">
<td align="left">ANN SUDMALIS (28668)</td>
<td align="left">LIBERAL PARTY</td>
<td align="left">GILMORE</td>
<td align="right">50.73</td>
<td align="right">52336</td>
<td align="right">1.46</td>
<td align="right">1506</td>
</tr>
</tbody>
</table>
<p>We see that Labor candidate for Herbert, Cathy O’Toole, managed to secure the seat by a margin of only 35 votes - equating to 0.04% of total votes. Let’s see the distribution of first preference votes in Herbert for a bit more detail.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">herbert_fp</span> <span class="op">&lt;-</span> <span class="va">fp16</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">DivisionNm</span> <span class="op">==</span> <span class="st">"HERBERT"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="op">-</span><span class="va">Percent</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>candidate_full_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">GivenNm</span>, <span class="st">" "</span>, <span class="va">Surname</span>, <span class="st">" ("</span>, <span class="va">CandidateID</span>, <span class="st">")"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">candidate_full_name</span>, <span class="va">PartyNm</span>, <span class="va">DivisionNm</span>, <span class="va">Percent</span>, <span class="va">OrdinaryVotes</span><span class="op">)</span></span>
<span></span>
<span><span class="va">herbert_fp</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">kable</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">candidate_full_name</th>
<th align="left">PartyNm</th>
<th align="left">DivisionNm</th>
<th align="right">Percent</th>
<th align="right">OrdinaryVotes</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">EWEN JONES (28055)</td>
<td align="left">LIBERAL PARTY</td>
<td align="left">HERBERT</td>
<td align="right">35.50</td>
<td align="right">31361</td>
</tr>
<tr class="even">
<td align="left">CATHY O’TOOLE (28997)</td>
<td align="left">AUSTRALIAN LABOR PARTY</td>
<td align="left">HERBERT</td>
<td align="right">30.45</td>
<td align="right">26900</td>
</tr>
<tr class="odd">
<td align="left">GEOFF VIRGO (29225)</td>
<td align="left">ONE NATION</td>
<td align="left">HERBERT</td>
<td align="right">13.53</td>
<td align="right">11950</td>
</tr>
<tr class="even">
<td align="left">COLIN DWYER (29222)</td>
<td align="left">KATTER’S AUSTRALIAN PARTY</td>
<td align="left">HERBERT</td>
<td align="right">6.87</td>
<td align="right">6070</td>
</tr>
<tr class="odd">
<td align="left">WENDY TUBMAN (29207)</td>
<td align="left">THE GREENS</td>
<td align="left">HERBERT</td>
<td align="right">6.26</td>
<td align="right">5533</td>
</tr>
<tr class="even">
<td align="left">MICHAEL PUNSHON (29213)</td>
<td align="left">FAMILY FIRST</td>
<td align="left">HERBERT</td>
<td align="right">3.59</td>
<td align="right">3175</td>
</tr>
<tr class="odd">
<td align="left">AARON RAFFIN (29357)</td>
<td align="left">GLENN LAZARUS TEAM</td>
<td align="left">HERBERT</td>
<td align="right">2.19</td>
<td align="right">1937</td>
</tr>
<tr class="even">
<td align="left">DAVID HARRIS (29256)</td>
<td align="left">LIBERAL DEMOCRATS</td>
<td align="left">HERBERT</td>
<td align="right">1.24</td>
<td align="right">1096</td>
</tr>
<tr class="odd">
<td align="left">MARTIN BREWSTER (28994)</td>
<td align="left">PALMER UNITED PARTY</td>
<td align="left">HERBERT</td>
<td align="right">0.36</td>
<td align="right">315</td>
</tr>
</tbody>
</table>
<p>We see that the greatest proportion of first preferences in Herbert actually went to Ewen Jones (Liberal), not to Cathy O’Toole. The win is due to preference flow from minor parties to Labor.</p>
</div>
<div class="section level4">
<h4 id="how-did-each-electorate-vote-in-each-state">How did each electorate vote in each state?<a class="anchor" aria-label="anchor" href="#how-did-each-electorate-vote-in-each-state"></a>
</h4>
<p>We can look at the proportion of voters for a particular party in each electorate, grouped by each state. This plot was inspired by Peter Ellis’s work on the NZ election data.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># summarise and compute proportion of votes for a particular party</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="va">fp16</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">DivisionNm</span>, <span class="va">StateAb</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>TotalVotes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">OrdinaryVotes</span><span class="op">)</span>, </span>
<span>    ProportionLabor <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">OrdinaryVotes</span><span class="op">[</span><span class="va">PartyNm</span> <span class="op">==</span> <span class="st">"AUSTRALIAN LABOR PARTY"</span><span class="op">]</span><span class="op">)</span> <span class="op">/</span> <span class="va">TotalVotes</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">TotalVotes</span> <span class="op">!=</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">ProportionLabor</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">StateAb</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="co"># send the data to the plotting function</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/do.html" class="external-link">do</a></span><span class="op">(</span>plots<span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">.</span><span class="op">)</span> <span class="op">+</span> </span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">ProportionLabor</span>, </span>
<span>           y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">DivisionNm</span>, <span class="va">ProportionLabor</span><span class="op">)</span>, </span>
<span>           size <span class="op">=</span> <span class="va">TotalVotes</span>, </span>
<span>           label <span class="op">=</span> <span class="va">StateAb</span><span class="op">)</span> <span class="op">+</span></span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"DivisionNm"</span><span class="op">)</span> <span class="op">+</span></span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="va">.</span><span class="op">$</span><span class="va">StateAb</span><span class="op">)</span> <span class="op">+</span> </span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span><span class="st">"Proportion voting Labor Party"</span>, </span>
<span>                          label <span class="op">=</span> <span class="va">percent</span><span class="op">)</span> <span class="op">+</span></span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_size.html" class="external-link">scale_size</a></span><span class="op">(</span><span class="st">"Number of\nvotes cast"</span>, </span>
<span>                  label <span class="op">=</span> <span class="va">comma</span><span class="op">)</span>  <span class="op">+</span></span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">8</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># draw the plots</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">gridExtra</span><span class="op">)</span></span>
<span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">p</span><span class="op">$</span><span class="va">plots</span><span class="op">)</span></span>
<span><span class="va">nCol</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">floor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="st">"grid.arrange"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">p</span><span class="op">$</span><span class="va">plots</span>, ncol<span class="op">=</span><span class="va">nCol</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="exploring-election-data_files/figure-html/plot_prop_particular_party-1.png" width="960" style="display: block; margin: auto;"></p>
</div>
<div class="section level4">
<h4 id="how-are-party-votes-correlated">How are party votes correlated?<a class="anchor" aria-label="anchor" href="#how-are-party-votes-correlated"></a>
</h4>
<p>We can also see how party votes are correlated, for example here we can see a strong negative correlation between votes for Labor and votes for Liberal (this plot also inspired by Peter Ellis). Green and Labor have a slight negative correlation, and Green and Liberal have a slightly more negative correlation:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Comparing party and candidate votes of several parties -------</span></span>
<span><span class="va">proportions</span> <span class="op">&lt;-</span> <span class="va">fp16</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">CandidateID</span> <span class="op">!=</span> <span class="fl">999</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="co"># exclude informal votes</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">DivisionNm</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>Prop_Labour <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">OrdinaryVotes</span><span class="op">[</span><span class="va">PartyNm</span> <span class="op">==</span> <span class="st">"AUSTRALIAN LABOR PARTY"</span><span class="op">]</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">OrdinaryVotes</span><span class="op">)</span>,</span>
<span>            Prop_Coalition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span></span>
<span>              <span class="va">OrdinaryVotes</span><span class="op">[</span><span class="va">PartyNm</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"LIBERAL PARTY"</span>, <span class="st">"NATIONAL PARTY"</span><span class="op">)</span><span class="op">]</span></span>
<span>              <span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">OrdinaryVotes</span><span class="op">)</span>,</span>
<span>            Prop_Greens <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">OrdinaryVotes</span><span class="op">[</span><span class="va">PartyNm</span> <span class="op">==</span> <span class="st">"THE GREENS"</span><span class="op">]</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">OrdinaryVotes</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># make a scatterplot matrix</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggobi.github.io/ggally/" class="external-link">GGally</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggobi.github.io/ggally/reference/ggpairs.html" class="external-link">ggpairs</a></span><span class="op">(</span><span class="va">proportions</span>, columns <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">proportions</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="exploring-election-data_files/figure-html/plot_prop_by_particular_party-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div class="section level4">
<h4 id="how-do-election-results-correlate-with-census-data">How do election results correlate with Census data?<a class="anchor" aria-label="anchor" href="#how-do-election-results-correlate-with-census-data"></a>
</h4>
<p>One of our motivations for creating this package was to make it easy to explore relationships between political views and socio-economic conditions across Australia. With a few simple R functions, we can join the Census data to the election data and build models to explore relationships.</p>
<p>Here’s how we join the two datasets together, the common variable is the DivisionNm:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">census_and_election</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">tpp16</span>, </span>
<span>                                 <span class="va">abs2016</span>,</span>
<span>                                 by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DivisionNm"</span> <span class="op">=</span> <span class="st">"DivisionNm"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Now we can easily explore some relationships between the Census data and the two party preferred voting patterns. For example, what Census variable mostly strongly correlates with the percentage that vote Labor? The first step in these kinds of explorations is always to visualise the data:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># subset only the columns we want for the model</span></span>
<span><span class="va">census_and_election_subset</span> <span class="op">&lt;-</span>  </span>
<span>  <span class="va">census_and_election</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="va">ungroup</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">DivisionNm</span>, </span>
<span>         <span class="va">ALP_Percent</span>,</span>
<span>         <span class="va">Population</span><span class="op">:</span><span class="va">Volunteer_NS</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">ends_with</a></span><span class="op">(</span><span class="st">"NS"</span><span class="op">)</span>, <span class="va">EmuneratedElsewhere</span>, <span class="va">InternetUse</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"Age"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Plot</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span>
<span><span class="va">correl_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor</a></span><span class="op">(</span><span class="va">census_and_election_subset</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">census_and_election_subset</span><span class="op">)</span><span class="op">)</span><span class="op">]</span>, </span>
<span>         use <span class="op">=</span> <span class="st">"pairwise.complete.obs"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ALP_Percent</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html" class="external-link">rownames_to_column</a></span><span class="op">(</span>var <span class="op">=</span> <span class="st">"Covariate"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span><span class="st">"Correlation_with_ALP"</span> <span class="op">=</span> <span class="st">"ALP_Percent"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Covariate</span> <span class="op">!=</span> <span class="st">"ALP_Percent"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Correlation_with_ALP</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">Covariate</span>, <span class="va">Correlation_with_ALP</span><span class="op">)</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">correl_df</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="exploring-election-data_files/figure-html/unnamed-chunk-1-1.png" width="576" style="display: block; margin: auto;"></p>
<p>We can spot some potentially interesting correlations, as well as some obvious ones.</p>
<p>The table below gives an overall summary of the model containing all the Census variables. We see that the p-value is very low, indicating that we have some relationships that are probably not due to chance alone.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>scipen <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="co"># for more readable numbers</span></span>
<span></span>
<span><span class="co"># compute the multiple regressions</span></span>
<span><span class="va">multiple_regression_model</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">census_and_election</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="va">ungroup</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ALP_Percent</span>,</span>
<span>         <span class="va">Population</span><span class="op">:</span><span class="va">Volunteer_NS</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">ends_with</a></span><span class="op">(</span><span class="st">"NS"</span><span class="op">)</span>, <span class="va">EmuneratedElsewhere</span>, <span class="va">InternetUse</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"Age"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">ALP_Percent</span> <span class="op">~</span> <span class="va">.</span>, </span>
<span>     data <span class="op">=</span> <span class="va">.</span><span class="op">)</span></span>
<span></span>
<span><span class="va">multiple_regression_model</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="va">glance</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/purrrlyr/man/dmap.html" class="external-link">dmap</a></span><span class="op">(</span><span class="va">round</span>, <span class="fl">3</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="va">kable</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="9%">
<col width="13%">
<col width="5%">
<col width="9%">
<col width="7%">
<col width="2%">
<col width="8%">
<col width="7%">
<col width="7%">
<col width="8%">
<col width="11%">
<col width="4%">
</colgroup>
<thead><tr class="header">
<th align="right">r.squared</th>
<th align="right">adj.r.squared</th>
<th align="right">sigma</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
<th align="right">df</th>
<th align="right">logLik</th>
<th align="right">AIC</th>
<th align="right">BIC</th>
<th align="right">deviance</th>
<th align="right">df.residual</th>
<th align="right">nobs</th>
</tr></thead>
<tbody><tr class="odd">
<td align="right">0.899</td>
<td align="right">0.843</td>
<td align="right">4.487</td>
<td align="right">16.068</td>
<td align="right">0</td>
<td align="right">53</td>
<td align="right">-404.538</td>
<td align="right">919.076</td>
<td align="right">1084.66</td>
<td align="right">1932.549</td>
<td align="right">96</td>
<td align="right">150</td>
</tr></tbody>
</table>
<p>The table below shows the variables that have a significant effect on the percentage of Labor votes across all electorates:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># find the variables with a significant effect</span></span>
<span><span class="va">multiple_regression_model</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="va">tidy</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">p.value</span> <span class="op">&lt;</span> <span class="fl">0.05</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/purrrlyr/man/dmap.html" class="external-link">dmap_if</a></span><span class="op">(</span><span class="va">is.numeric</span>, <span class="va">round</span>, <span class="fl">3</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">p.value</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="va">kable</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">DeFacto</td>
<td align="right">6.067</td>
<td align="right">1.416</td>
<td align="right">4.285</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">(Intercept)</td>
<td align="right">930.427</td>
<td align="right">259.625</td>
<td align="right">3.584</td>
<td align="right">0.001</td>
</tr>
<tr class="odd">
<td align="left">Extractive</td>
<td align="right">-1.280</td>
<td align="right">0.377</td>
<td align="right">-3.392</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">BachelorAbv</td>
<td align="right">2.513</td>
<td align="right">0.884</td>
<td align="right">2.845</td>
<td align="right">0.005</td>
</tr>
<tr class="odd">
<td align="left">ManagerAdminClericalSales</td>
<td align="right">-1.931</td>
<td align="right">0.724</td>
<td align="right">-2.666</td>
<td align="right">0.009</td>
</tr>
<tr class="even">
<td align="left">Couple_NoChild_House</td>
<td align="right">-6.530</td>
<td align="right">2.496</td>
<td align="right">-2.616</td>
<td align="right">0.010</td>
</tr>
<tr class="odd">
<td align="left">Indigenous</td>
<td align="right">-1.029</td>
<td align="right">0.399</td>
<td align="right">-2.577</td>
<td align="right">0.011</td>
</tr>
<tr class="even">
<td align="left">HighSchool</td>
<td align="right">-0.997</td>
<td align="right">0.406</td>
<td align="right">-2.455</td>
<td align="right">0.016</td>
</tr>
<tr class="odd">
<td align="left">MedianPersonalIncome</td>
<td align="right">-0.125</td>
<td align="right">0.051</td>
<td align="right">-2.456</td>
<td align="right">0.016</td>
</tr>
<tr class="even">
<td align="left">DiffAddress</td>
<td align="right">-0.721</td>
<td align="right">0.299</td>
<td align="right">-2.409</td>
<td align="right">0.018</td>
</tr>
<tr class="odd">
<td align="left">Transformative</td>
<td align="right">-1.261</td>
<td align="right">0.531</td>
<td align="right">-2.375</td>
<td align="right">0.020</td>
</tr>
<tr class="even">
<td align="left">Anglican</td>
<td align="right">-0.788</td>
<td align="right">0.338</td>
<td align="right">-2.333</td>
<td align="right">0.022</td>
</tr>
<tr class="odd">
<td align="left">PublicHousing</td>
<td align="right">1.219</td>
<td align="right">0.523</td>
<td align="right">2.330</td>
<td align="right">0.022</td>
</tr>
<tr class="even">
<td align="left">SocialServ</td>
<td align="right">-1.131</td>
<td align="right">0.548</td>
<td align="right">-2.063</td>
<td align="right">0.042</td>
</tr>
</tbody>
</table>
<p>In the plots below, we can see the Census variables that have a statistically significant relationship with the percentage of Labor votes. There seems to be a positive relationship between voting Labor and defacto relationships, university education and public housing tenants. Labour force participation and proportion of workers in extractive jobs (e.g. mining, gas, agriculture), and median personal income are a negatively correlated variables, meaning that increases in the proportion of workers in extractive jobs and increases in median personal income correlate with decreases in the percentage of the Labor vote in that electorate.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># model that includes all Census variables</span></span>
<span><span class="va">all_vars</span> <span class="op">&lt;-</span> <span class="va">multiple_regression_model</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="va">tidy</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">p.value</span> <span class="op">&lt;</span> <span class="fl">0.05</span>, <span class="va">term</span> <span class="op">!=</span> <span class="st">"(Intercept)"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">p.value</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">census_and_election</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="va">ungroup</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/se-deprecated.html" class="external-link">select_</a></span><span class="op">(</span>.dots <span class="op">=</span> <span class="va">all_vars</span><span class="op">$</span><span class="va">term</span>,</span>
<span>          <span class="st">"ALP_Percent"</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/gather.html" class="external-link">gather</a></span><span class="op">(</span><span class="va">variable</span>, </span>
<span>         <span class="va">value</span>, </span>
<span>         <span class="op">-</span><span class="va">ALP_Percent</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">value</span>, <span class="va">ALP_Percent</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span> <span class="op">~</span> <span class="va">variable</span>, scales <span class="op">=</span> <span class="st">"free"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">8</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="exploring-election-data_files/figure-html/unnamed-chunk-3-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Jeremy Forbes, Di Cook, Anthony Ebert, Heike Hofmann, Rob Hyndman, Thomas Lumley, Ben Marwick, Carson Sievert, Mingzhu Sun, Dilini Talagala, Nicholas Tierney, Nathaniel Tomasetti, Earo Wang, Fang Zhou.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
