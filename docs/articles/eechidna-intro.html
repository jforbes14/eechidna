<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>An Introduction to Exploring Election and Census Highly Informative Data Nationally for Australia â€¢ eechidna</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="An Introduction to Exploring Election and Census Highly Informative Data Nationally for Australia">
<meta property="og:description" content="eechidna">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eechidna</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.4.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/eechidna-intro.html">An Introduction to Exploring Election and Census Highly Informative Data Nationally for Australia</a>
    </li>
    <li>
      <a href="../articles/exploring-census-data.html">Exploring the Census data: A case study of 2016</a>
    </li>
    <li>
      <a href="../articles/exploring-election-data.html">Exploring the Election data: a case study of 2016</a>
    </li>
    <li>
      <a href="../articles/getting-ozShapefiles.html">Getting Oz Electorate shapefiles into shape</a>
    </li>
    <li>
      <a href="../articles/imputing-census-data.html">Imputing electoral Census data for election years</a>
    </li>
    <li>
      <a href="../articles/plotting-electorates.html">Mapping Australia's Electorates</a>
    </li>
    <li>
      <a href="../articles/plotting-polling-stns.html">Plotting Australia's Polling Booths</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jforbes14/eechidna/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="eechidna-intro_files/header-attrs-2.7/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>An Introduction to Exploring Election and Census Highly Informative Data Nationally for Australia</h1>
                        <h4 class="author">Jeremy Forbes</h4>
            
            <h4 class="date">2021-02-26</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/jforbes14/eechidna/blob/master/vignettes/eechidna-intro.Rmd"><code>vignettes/eechidna-intro.Rmd</code></a></small>
      <div class="hidden name"><code>eechidna-intro.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p><code>eechidna</code> (Exploring Election and Census Highly Informative Data Nationally for Australia) is an R package that makes it easy to look at the data from the Australian Federal elections and Censuses that occurred between 2001 and 2019. An Australian Federal election typically takes place every three years (2001, 2004, 2007, 2010, 2013, 2016 and 2019), and a Census of Population and Housing is conducted every five years (2001, 2006, 2011, 2016). The data in this package includes voting results for each polling booth and electoral division (electorate), Census information for each electorate and maps of the electorates that were in place at the time of each event. All data in this package is obtained from the <a href="https://results.aec.gov.au/">Australian Electoral Commission</a>, the <a href="https://www.abs.gov.au/websitedbs/D3310114.nsf/home/census">Australian Bureau of Statistics</a> and the <a href="https://data.gov.au/">Australian Government</a>.</p>
<p>This vignette documents how to access these datasets, and shows a few typical methods to explore the data.</p>
</div>
<div id="joining-election-and-census-data" class="section level1">
<h1 class="hasAnchor">
<a href="#joining-election-and-census-data" class="anchor"></a>Joining election and Census data</h1>
<p>Each electoral division has a unique ID (<code>UniqueID</code>) that can be used to match together Censuses and elections.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/">knitr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jforbes14/eechidna/">eechidna</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">tpp16</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">abs2016</span><span class="op">)</span>

<span class="co"># Join 2016 election and Census</span>
<span class="va">data16</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">tpp16</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">LNP_Percent</span>, <span class="va">UniqueID</span><span class="op">)</span>, <span class="va">abs2016</span>, by <span class="op">=</span> <span class="st">"UniqueID"</span><span class="op">)</span>

<span class="co"># See what it looks like</span>
<span class="va">data16</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">LNP_Percent</span>, <span class="va">DivisionNm</span>, <span class="va">Population</span>, <span class="va">Area</span>, <span class="va">AusCitizen</span>, <span class="va">MedianPersonalIncome</span>, <span class="va">Renting</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="va">kable</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">LNP_Percent</th>
<th align="left">DivisionNm</th>
<th align="right">Population</th>
<th align="right">Area</th>
<th align="right">AusCitizen</th>
<th align="right">MedianPersonalIncome</th>
<th align="right">Renting</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">41.54</td>
<td align="left">CANBERRA</td>
<td align="right">196037</td>
<td align="right">2004.2730</td>
<td align="right">85.47927</td>
<td align="right">695.4141</td>
<td align="right">29.74457</td>
</tr>
<tr class="even">
<td align="right">36.11</td>
<td align="left">FENNER</td>
<td align="right">202955</td>
<td align="right">460.3633</td>
<td align="right">83.64317</td>
<td align="right">668.7201</td>
<td align="right">33.79648</td>
</tr>
<tr class="odd">
<td align="right">51.44</td>
<td align="left">BANKS</td>
<td align="right">155806</td>
<td align="right">49.4460</td>
<td align="right">80.66827</td>
<td align="right">440.7940</td>
<td align="right">31.32000</td>
</tr>
<tr class="even">
<td align="right">41.70</td>
<td align="left">BARTON</td>
<td align="right">172850</td>
<td align="right">39.6466</td>
<td align="right">72.40498</td>
<td align="right">436.0027</td>
<td align="right">37.23520</td>
</tr>
<tr class="odd">
<td align="right">59.72</td>
<td align="left">BENNELONG</td>
<td align="right">168948</td>
<td align="right">58.6052</td>
<td align="right">74.59277</td>
<td align="right">495.5510</td>
<td align="right">36.09845</td>
</tr>
<tr class="even">
<td align="right">66.45</td>
<td align="left">BEROWRA</td>
<td align="right">145136</td>
<td align="right">749.6359</td>
<td align="right">87.35600</td>
<td align="right">542.7789</td>
<td align="right">14.50767</td>
</tr>
</tbody>
</table>
</div>
<div id="election-results" class="section level1">
<h1 class="hasAnchor">
<a href="#election-results" class="anchor"></a>Election results</h1>
<p>For each of the six elections, three types of votes are recorded: - First preference votes: a tally of primary votes (as Australia has a preferential voting system). These datasets are labelled <code>fp</code> (e.g.Â <code>fp16</code> for 2016). - Two party preferred vote: a measure of preference between the two major parties - the Australian Labor Party (Labor) and the Liberal/National Coalition (Liberal). These are labelled <code>tpp</code> (e.g.Â <code>tpp16</code> for 2016). - Two candidate votes: a measure of preference between the two leading candidates in that electorate. These are labelled <code>tcp</code> (e.g.Â <code>tcp16</code> for 2016).</p>
<p>The same voting results are available for each polling booth (of which there are around 7500). This data is obtained by calling one of the three functions; <code>firstpref_pollingbooth_download</code>, <code>twoparty_pollingbooth_download</code> and <code>twocand_pollingbooth_download</code>, all of which pull (large) datasets from github. Geocoordinates for each polling booth are also detailed in these datasets (when available).</p>
<p>Letâ€™s have a look at some of the results from the 2016 Federal election.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Load data</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">fp16</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">tcp16</span><span class="op">)</span></code></pre></div>
<div id="which-party-won-the-election" class="section level3">
<h3 class="hasAnchor">
<a href="#which-party-won-the-election" class="anchor"></a>Which party won the election?</h3>
<p>The data can be summarized to reveal some basic details about the election. Start by reproducing the overall result of the election by finding out which party won the most electorates according to the two candidate preferred votes.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">who_won</span> <span class="op">&lt;-</span> <span class="va">tcp16</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Elected</span> <span class="op">==</span> <span class="st">"Y"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">PartyNm</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">tally</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span> 

<span class="co"># Inspect</span>
<span class="va">who_won</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">PartyNm</th>
<th align="right">n</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">AUSTRALIAN LABOR PARTY</td>
<td align="right">69</td>
</tr>
<tr class="even">
<td align="left">LIBERAL PARTY</td>
<td align="right">66</td>
</tr>
<tr class="odd">
<td align="left">NATIONAL PARTY</td>
<td align="right">10</td>
</tr>
<tr class="even">
<td align="left">INDEPENDENT</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">KATTERâ€™S AUSTRALIAN PARTY</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">NICK XENOPHON TEAM</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">THE GREENS</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
<p>We see that Liberal/National Coalition won with 76 seats, which is just enough to secure a majority in the House of Representatives.</p>
</div>
<div id="which-party-received-the-most-first-preference-votes" class="section level3">
<h3 class="hasAnchor">
<a href="#which-party-received-the-most-first-preference-votes" class="anchor"></a>Which party received the most first preference votes?</h3>
<p>An alternative way to evaluate the outcome of the election is by counting the number of ordinary first preference votes for each party (not including postal votes, preference flows, etc.). Here we can find the total number of ordinary votes for each party.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">total_votes_for_parties</span> <span class="op">&lt;-</span> <span class="va">fp16</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">PartyNm</span>, <span class="va">OrdinaryVotes</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">PartyNm</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>total_votes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">OrdinaryVotes</span>, rm.na <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">total_votes</span><span class="op">)</span><span class="op">)</span>

<span class="co"># Plot the total votes for each party</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">total_votes_for_parties</span>, 
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span><span class="op">(</span><span class="va">PartyNm</span>, <span class="va">total_votes</span><span class="op">)</span>, 
           <span class="va">total_votes</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org//reference/label_number.html">comma</a></span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Total number of first preference votes"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Party"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">8</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="eechidna-intro_files/figure-html/total_votes_for_parties-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div id="downloading-and-plotting-the-two-party-preferred-vote" class="section level3">
<h3 class="hasAnchor">
<a href="#downloading-and-plotting-the-two-party-preferred-vote" class="anchor"></a>Downloading and plotting the two party preferred vote</h3>
<p>The function <code><a href="../reference/twoparty_pollingbooth_download.html">twoparty_pollingbooth_download()</a></code> downloads the two party preferred vote for each polling booth in each of the six elections. Boxplots can be used to compare the distributions of this vote across the six elections.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Download TPP for all elections</span>
<span class="va">tpp_pollingbooth</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/twoparty_pollingbooth_download.html">twoparty_pollingbooth_download</a></span><span class="op">(</span><span class="op">)</span>

<span class="co"># Plot the densities of the TPP vote in each election</span>
<span class="va">tpp_pollingbooth</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">StateAb</span> <span class="op">==</span> <span class="st">"NSW"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">LNP_Percent</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html">guides</a></span><span class="op">(</span>fill<span class="op">=</span><span class="cn">F</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Year"</span>, y <span class="op">=</span> <span class="st">"Two party preferred % in favour \nof the Liberal/National Coalition"</span><span class="op">)</span></code></pre></div>
<p><img src="eechidna-intro_files/figure-html/unnamed-chunk-3-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="census-data" class="section level1">
<h1 class="hasAnchor">
<a href="#census-data" class="anchor"></a>Census data</h1>
<p>There are four Censuses included in this package, which consist of 85 variables relating to population characteristics of each electorate. The objects <code>abs2001</code>, <code>abs2006</code>, <code>abs2011</code> and <code>abs2016</code> correspond with each of the four Censuses. A description of each variable can be found in the corresponding help files.</p>
<p>Letâ€™s have a look at data from the 2016 Census held in <code>abs2016</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Dimensions</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">abs2016</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 150  85</code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Preview some of the data</span>
<span class="va">abs2016</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">DivisionNm</span>, <span class="va">State</span>, <span class="va">Population</span>, <span class="va">Area</span>, <span class="va">AusCitizen</span>, <span class="va">BachelorAbv</span>, <span class="va">Indigenous</span>, <span class="va">MedianAge</span>, <span class="va">Unemployed</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="va">head</span> <span class="op">%&gt;%</span> 
  <span class="va">kable</span></code></pre></div>
<table class="table">
<colgroup>
<col width="11%">
<col width="6%">
<col width="11%">
<col width="11%">
<col width="11%">
<col width="12%">
<col width="11%">
<col width="10%">
<col width="11%">
</colgroup>
<thead><tr class="header">
<th align="left">DivisionNm</th>
<th align="left">State</th>
<th align="right">Population</th>
<th align="right">Area</th>
<th align="right">AusCitizen</th>
<th align="right">BachelorAbv</th>
<th align="right">Indigenous</th>
<th align="right">MedianAge</th>
<th align="right">Unemployed</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">ADELAIDE</td>
<td align="left">SA</td>
<td align="right">163442</td>
<td align="right">76.0361</td>
<td align="right">77.30999</td>
<td align="right">34.32088</td>
<td align="right">1.0554203</td>
<td align="right">36</td>
<td align="right">8.1</td>
</tr>
<tr class="even">
<td align="left">ASTON</td>
<td align="left">VIC</td>
<td align="right">136018</td>
<td align="right">103.4133</td>
<td align="right">85.04242</td>
<td align="right">22.90449</td>
<td align="right">0.4514108</td>
<td align="right">39</td>
<td align="right">5.6</td>
</tr>
<tr class="odd">
<td align="left">BALLARAT</td>
<td align="left">VIC</td>
<td align="right">154483</td>
<td align="right">4627.2702</td>
<td align="right">89.27649</td>
<td align="right">17.89707</td>
<td align="right">1.3334801</td>
<td align="right">40</td>
<td align="right">6.5</td>
</tr>
<tr class="even">
<td align="left">BANKS</td>
<td align="left">NSW</td>
<td align="right">155806</td>
<td align="right">49.4460</td>
<td align="right">80.66827</td>
<td align="right">25.84467</td>
<td align="right">0.8260272</td>
<td align="right">38</td>
<td align="right">6.2</td>
</tr>
<tr class="odd">
<td align="left">BARKER</td>
<td align="left">SA</td>
<td align="right">149502</td>
<td align="right">58548.5473</td>
<td align="right">88.64229</td>
<td align="right">8.75372</td>
<td align="right">2.6307340</td>
<td align="right">44</td>
<td align="right">5.8</td>
</tr>
<tr class="even">
<td align="left">BARTON</td>
<td align="left">NSW</td>
<td align="right">172850</td>
<td align="right">39.6466</td>
<td align="right">72.40498</td>
<td align="right">29.42181</td>
<td align="right">0.6988719</td>
<td align="right">35</td>
<td align="right">6.6</td>
</tr>
</tbody>
</table>
<div id="income-and-unemployment-by-state" class="section level3">
<h3 class="hasAnchor">
<a href="#income-and-unemployment-by-state" class="anchor"></a>Income and unemployment by state</h3>
<p>We can visualize measures by splitting the electorates into their respective states to gain insight into how states compare with regards to income and unemployment.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">abs2016</span>,
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span><span class="op">(</span><span class="va">State</span>, <span class="op">-</span><span class="va">Unemployed</span><span class="op">)</span>,
           y <span class="op">=</span> <span class="va">Unemployed</span>,
           colour <span class="op">=</span> <span class="va">State</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"State"</span>,
       y <span class="op">=</span> <span class="st">"% Unemployment"</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> </code></pre></div>
<p><img src="eechidna-intro_files/figure-html/unnamed-chunk-6-1.png" width="700" style="display: block; margin: auto;"></p>
<p>Adding <code>geom_jitter</code> gives us more details about a distribution.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">abs2016</span>,
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span><span class="op">(</span><span class="va">State</span>, <span class="op">-</span><span class="va">MedianPersonalIncome</span><span class="op">)</span>,
           y <span class="op">=</span> <span class="va">MedianPersonalIncome</span>,
           colour <span class="op">=</span> <span class="va">State</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html">geom_jitter</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.35</span>, 
              size <span class="op">=</span> <span class="fl">2</span>,
              width <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"State"</span>, y <span class="op">=</span> <span class="st">"Median Personal Income ($)"</span><span class="op">)</span></code></pre></div>
<p><img src="eechidna-intro_files/figure-html/unnamed-chunk-7-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div id="ageing-population" class="section level3">
<h3 class="hasAnchor">
<a href="#ageing-population" class="anchor"></a>Ageing population</h3>
<p>Australiaâ€™s ageing population is clearly seen from observing the distribution of median age across the four Censuses.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Load</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">abs2011</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">abs2006</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">abs2001</span><span class="op">)</span>

<span class="co"># Bind and plot </span>
<span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span><span class="op">(</span><span class="va">abs2016</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>year <span class="op">=</span> <span class="st">"2016"</span><span class="op">)</span>, <span class="va">abs2011</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>year <span class="op">=</span> <span class="st">"2011"</span><span class="op">)</span>, <span class="va">abs2006</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>year <span class="op">=</span> <span class="st">"2006"</span><span class="op">)</span>, <span class="va">abs2001</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>year <span class="op">=</span> <span class="st">"2001"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">MedianAge</span>, col <span class="op">=</span> <span class="va">year</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html">geom_jitter</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html">guides</a></span><span class="op">(</span>col <span class="op">=</span> <span class="cn">F</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Year"</span>, y <span class="op">=</span> <span class="st">"Median Age"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="eechidna-intro_files/figure-html/unnamed-chunk-8-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="maps-of-the-australian-electoral-divisions" class="section level1">
<h1 class="hasAnchor">
<a href="#maps-of-the-australian-electoral-divisions" class="anchor"></a>Maps of the Australian electoral divisions</h1>
<p>Electoral divisions change regularly, so many electorates represent different regions from one election to the next. A consequence of this is that the electorate Census data (for example, in 2011) may not align with those in place for any election. As a resource for addressing this problem, and also for plotting visualizations of Australia, a map of electorates for the years 2001, 2004, 2006, 2007, 2010, 2011, 2013 and 2016 are included. The <code>nat_map</code> objects (e.g.Â <code>nat_map16</code>) are data frames that contain the coordinates of each electoral polygon, and can be plotted using <code>ggplot2</code> graphics. The accompanying <code>nat_data</code> object (e.g.Â <code>nat_data16</code>) contains some information about each electoral polygon. These objects can be loaded using the <code>nat_map_download</code> and <code>nat_data_download</code> functions, respectively.</p>
<p>As an example, letâ€™s plot a map of electorates in the 2016 election.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jrnold/ggthemes">ggthemes</a></span><span class="op">)</span>
<span class="va">nat_map16</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/nat_map_download.html">nat_map_download</a></span><span class="op">(</span><span class="fl">2016</span><span class="op">)</span>
<span class="va">nat_data16</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/nat_data_download.html">nat_data_download</a></span><span class="op">(</span><span class="fl">2016</span><span class="op">)</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>map_id<span class="op">=</span><span class="va">id</span><span class="op">)</span>, data<span class="op">=</span><span class="va">nat_data16</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_map.html">geom_map</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill<span class="op">=</span><span class="va">state</span><span class="op">)</span>, map<span class="op">=</span><span class="va">nat_map16</span>, col <span class="op">=</span> <span class="st">"grey50"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/expand_limits.html">expand_limits</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">nat_map16</span><span class="op">$</span><span class="va">long</span>, y<span class="op">=</span><span class="va">nat_map16</span><span class="op">$</span><span class="va">lat</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://rdrr.io/pkg/ggthemes/man/theme_map.html">theme_map</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html">coord_equal</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="eechidna-intro_files/figure-html/unnamed-chunk-9-1.png" width="700" style="display: block; margin: auto;"></p>
<div id="attaching-election-results" class="section level3">
<h3 class="hasAnchor">
<a href="#attaching-election-results" class="anchor"></a>Attaching election results</h3>
<p>We can fill each electorate by the victorious party in the 2016 election.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Get the electorate winners</span>
<span class="va">map.winners</span> <span class="op">&lt;-</span> <span class="va">fp16</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Elected</span> <span class="op">==</span> <span class="st">"Y"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">DivisionNm</span>, <span class="va">PartyNm</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/pkg/sp/man/merge.html">merge</a></span><span class="op">(</span><span class="va">nat_map16</span>, by.x<span class="op">=</span><span class="st">"DivisionNm"</span>, by.y<span class="op">=</span><span class="st">"elect_div"</span><span class="op">)</span>

<span class="co"># Grouping</span>
<span class="va">map.winners</span><span class="op">$</span><span class="va">PartyNm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">map.winners</span><span class="op">$</span><span class="va">PartyNm</span><span class="op">)</span>
<span class="va">map.winners</span> <span class="op">&lt;-</span> <span class="va">map.winners</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">group</span>, <span class="va">order</span><span class="op">)</span>

<span class="co"># Combine Liberal and National parties</span>
<span class="va">map.winners</span> <span class="op">&lt;-</span> <span class="va">map.winners</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>PartyNm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">PartyNm</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"NATIONAL PARTY"</span>, <span class="st">"LIBERAL PARTY"</span><span class="op">)</span>, <span class="st">"LIBERAL NATIONAL COALITION"</span>, <span class="va">PartyNm</span><span class="op">)</span><span class="op">)</span>

<span class="co"># Colour cells to match that parties colours</span>
<span class="co"># Order = Australian Labor Party, Independent, Katters, Lib/Nats Coalition, Palmer, The Greens</span>
<span class="va">partycolours</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#FF0033"</span>, <span class="st">"#000000"</span>, <span class="st">"#CC3300"</span>, <span class="st">"#0066CC"</span>, <span class="st">"#FFFF00"</span>, <span class="st">"#009900"</span><span class="op">)</span>


<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">map.winners</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_polygon.html">geom_polygon</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">long</span>, y<span class="op">=</span><span class="va">lat</span>, group<span class="op">=</span><span class="va">group</span>, fill<span class="op">=</span><span class="va">PartyNm</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"Political Party"</span>, values<span class="op">=</span><span class="va">partycolours</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://rdrr.io/pkg/ggthemes/man/theme_map.html">theme_map</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html">coord_equal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position<span class="op">=</span><span class="st">"bottom"</span><span class="op">)</span></code></pre></div>
<p><img src="eechidna-intro_files/figure-html/unnamed-chunk-10-1.png" width="700" style="display: block; margin: auto;"></p>
<p>However, the Australian electoral map is not conducive to chloropleth map, because most of the population concentrate in the five big cities, Sydney, Melbourne, Brisbane, Adelaide and Perth, which means that there are lot of very geographical tiny regions that contribute substantially to the house of representative composition. An alternative is to plot a dorling cartogram, where each electorate is represented by a circle, approximately in the geographic center of each electorate, with an underlying map. The major population centers need to have their center locations ballooned to make this feasible visually. The coordinates corresponding for the dorling cartogram have been pre-processed and correspond with the variables <code>x</code> and <code>y</code> in the <code>nat_data</code> datasets distributed in this package. These can be reproduced using the <code>aec_add_carto_f</code> function in the package.</p>
<p>A better approach would be to use a cartogram to display the election results, which maintains the geographic location but make the sizes of the electorate polygons approximately equal. This is very hard to perfect for Australia because the size differential between electorates is huge, resulting in a cartogram where all sense of geography is demolished. This data is used to create the display of electoral results below.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Get winners</span>
<span class="va">cart.winners</span> <span class="op">&lt;-</span> <span class="va">fp16</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Elected</span> <span class="op">==</span> <span class="st">"Y"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">DivisionNm</span>, <span class="va">PartyNm</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/pkg/sp/man/merge.html">merge</a></span><span class="op">(</span><span class="va">nat_data16</span>, by.x<span class="op">=</span><span class="st">"DivisionNm"</span>, by.y<span class="op">=</span><span class="st">"elect_div"</span><span class="op">)</span>

<span class="co"># Combine Liberal and National parties</span>
<span class="va">cart.winners</span> <span class="op">&lt;-</span> <span class="va">cart.winners</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>PartyNm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">PartyNm</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"NATIONAL PARTY"</span>, <span class="st">"LIBERAL PARTY"</span><span class="op">)</span>, <span class="st">"LIBERAL NATIONAL COALITION"</span>, <span class="va">PartyNm</span><span class="op">)</span><span class="op">)</span>


<span class="co"># Plot dorling cartogram</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">nat_map16</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_polygon.html">geom_polygon</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">long</span>, y<span class="op">=</span><span class="va">lat</span>, group<span class="op">=</span><span class="va">group</span><span class="op">)</span>,
               fill<span class="op">=</span><span class="st">"grey90"</span>, colour<span class="op">=</span><span class="st">"white"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">cart.winners</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span>, colour<span class="op">=</span><span class="va">PartyNm</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">0.75</span>, alpha<span class="op">=</span><span class="fl">0.8</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_colour_manual</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"Political Party"</span>, values<span class="op">=</span><span class="va">partycolours</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://rdrr.io/pkg/ggthemes/man/theme_map.html">theme_map</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html">coord_equal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position<span class="op">=</span><span class="st">"bottom"</span><span class="op">)</span></code></pre></div>
<p><img src="eechidna-intro_files/figure-html/unnamed-chunk-11-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="modelling-election-results-using-census-data" class="section level1">
<h1 class="hasAnchor">
<a href="#modelling-election-results-using-census-data" class="anchor"></a>Modelling election results using Census data</h1>
<p>An interesting exercise is to see how we can model electorate voting outcomes as a function of Census information. In the years 2001 and 2016 both a Census and election occur. The Australian Bureau of Statistics aggregate Census information to electoral boundaries that exactly match those in the election for these years, so we can join this data together and fit some models.</p>
<p>Letâ€™s look at modelling the two party preferred vote (in favour of the Liberal party).</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Join</span>
<span class="va">data16</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">tpp16</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">LNP_Percent</span>, <span class="va">UniqueID</span><span class="op">)</span>, <span class="va">abs2016</span>, by <span class="op">=</span> <span class="st">"UniqueID"</span><span class="op">)</span>

<span class="co"># Fit a model using all of the available population characteristics</span>
<span class="va">lmod</span> <span class="op">&lt;-</span> <span class="va">data16</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">ends_with</a></span><span class="op">(</span><span class="st">"NS"</span><span class="op">)</span>, <span class="va">Area</span>, <span class="va">Population</span>, <span class="va">DivisionNm</span>, <span class="va">UniqueID</span>, <span class="va">State</span>, <span class="va">EmuneratedElsewhere</span>, <span class="va">InternetUse</span>, <span class="va">Other_NonChrist</span>, <span class="va">OtherChrist</span>, <span class="va">EnglishOnly</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">LNP_Percent</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">.</span><span class="op">)</span>

<span class="co"># See if the variables are jointly significant</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://broom.tidymodels.org/">broom</a></span><span class="op">)</span>
<span class="va">lmod</span> <span class="op">%&gt;%</span> 
  <span class="va">glance</span> <span class="op">%&gt;%</span> 
  <span class="va">kable</span></code></pre></div>
<table class="table">
<colgroup>
<col width="9%">
<col width="12%">
<col width="8%">
<col width="9%">
<col width="7%">
<col width="2%">
<col width="9%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="11%">
<col width="4%">
</colgroup>
<thead><tr class="header">
<th align="right">r.squared</th>
<th align="right">adj.r.squared</th>
<th align="right">sigma</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
<th align="right">df</th>
<th align="right">logLik</th>
<th align="right">AIC</th>
<th align="right">BIC</th>
<th align="right">deviance</th>
<th align="right">df.residual</th>
<th align="right">nobs</th>
</tr></thead>
<tbody><tr class="odd">
<td align="right">0.9219191</td>
<td align="right">0.8662752</td>
<td align="right">4.137718</td>
<td align="right">16.56821</td>
<td align="right">0</td>
<td align="right">62</td>
<td align="right">-385.0079</td>
<td align="right">898.0158</td>
<td align="right">1090.696</td>
<td align="right">1489.502</td>
<td align="right">87</td>
<td align="right">150</td>
</tr></tbody>
</table>
<p>We see that electoral socio-demographics from the Census are jointly significant in predicting the two party preferred vote.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># See which variables are individually significant</span>
<span class="va">lmod</span> <span class="op">%&gt;%</span> 
  <span class="va">tidy</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">p.value</span> <span class="op">&lt;</span> <span class="fl">0.05</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">p.value</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="va">kable</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Extractive</td>
<td align="right">1.2506612</td>
<td align="right">0.3362580</td>
<td align="right">3.719350</td>
<td align="right">0.0003531</td>
</tr>
<tr class="even">
<td align="left">Indigenous</td>
<td align="right">1.1248769</td>
<td align="right">0.3751568</td>
<td align="right">2.998418</td>
<td align="right">0.0035377</td>
</tr>
<tr class="odd">
<td align="left">DeFacto</td>
<td align="right">-6.0210283</td>
<td align="right">2.0941333</td>
<td align="right">-2.875189</td>
<td align="right">0.0050757</td>
</tr>
<tr class="even">
<td align="left">DiffAddress</td>
<td align="right">0.8951707</td>
<td align="right">0.3276409</td>
<td align="right">2.732171</td>
<td align="right">0.0076188</td>
</tr>
<tr class="odd">
<td align="left">CurrentlyStudying</td>
<td align="right">3.0498940</td>
<td align="right">1.1328889</td>
<td align="right">2.692139</td>
<td align="right">0.0085147</td>
</tr>
<tr class="even">
<td align="left">LFParticipation</td>
<td align="right">2.0806590</td>
<td align="right">0.7855014</td>
<td align="right">2.648829</td>
<td align="right">0.0095911</td>
</tr>
<tr class="odd">
<td align="left">NoReligion</td>
<td align="right">1.3757595</td>
<td align="right">0.5388697</td>
<td align="right">2.553047</td>
<td align="right">0.0124219</td>
</tr>
<tr class="even">
<td align="left">ManagerAdminClericalSales</td>
<td align="right">1.8408868</td>
<td align="right">0.7387002</td>
<td align="right">2.492062</td>
<td align="right">0.0145963</td>
</tr>
<tr class="odd">
<td align="left">HighSchool</td>
<td align="right">1.0138777</td>
<td align="right">0.4174922</td>
<td align="right">2.428495</td>
<td align="right">0.0172204</td>
</tr>
<tr class="even">
<td align="left">Couple_NoChild_House</td>
<td align="right">6.0945298</td>
<td align="right">2.6534172</td>
<td align="right">2.296861</td>
<td align="right">0.0240282</td>
</tr>
<tr class="odd">
<td align="left">BachelorAbv</td>
<td align="right">-1.8916490</td>
<td align="right">0.8523159</td>
<td align="right">-2.219422</td>
<td align="right">0.0290591</td>
</tr>
<tr class="even">
<td align="left">Born_SE_Europe</td>
<td align="right">-2.6681228</td>
<td align="right">1.2439691</td>
<td align="right">-2.144846</td>
<td align="right">0.0347527</td>
</tr>
<tr class="odd">
<td align="left">Finance</td>
<td align="right">1.5858345</td>
<td align="right">0.7494209</td>
<td align="right">2.116080</td>
<td align="right">0.0371952</td>
</tr>
<tr class="even">
<td align="left">Distributive</td>
<td align="right">1.0737711</td>
<td align="right">0.5168930</td>
<td align="right">2.077357</td>
<td align="right">0.0407169</td>
</tr>
<tr class="odd">
<td align="left">Couple_WChild_House</td>
<td align="right">5.7184575</td>
<td align="right">2.7555012</td>
<td align="right">2.075288</td>
<td align="right">0.0409129</td>
</tr>
<tr class="even">
<td align="left">Unemployed</td>
<td align="right">2.0667592</td>
<td align="right">1.0187605</td>
<td align="right">2.028700</td>
<td align="right">0.0455466</td>
</tr>
</tbody>
</table>
<p>Many variables are individually significant too.</p>
<div id="imputing-census-data-for-the-elections-that-do-not-have-a-census-that-matches-exactly" class="section level3">
<h3 class="hasAnchor">
<a href="#imputing-census-data-for-the-elections-that-do-not-have-a-census-that-matches-exactly" class="anchor"></a>Imputing Census data for the elections that do not have a Census that matches exactly</h3>
<p>The 2004, 2007, 2010 and 2013 elections do not have a Census that directly match. Instead of matching these elections with a Census in neighbouring years, we have imputed Census data to correspond with the both time of the election and the electorate boundaries in place. This uses the most disaggregate Census data available (Statistical Area 1). This was done using an areal interpolation method over space and linear interpolation over time, via the <code>allocate_electorate</code> and <code>weighted_avg_census_sa1</code> functions in this package.</p>
<p>For the 2019 election, because there only exists a Census before (2016) and not after (as of Nov, 2019), we do an areal interpolation of the 2016 SA1 Census data.</p>
<p>The resultant (imputed) Census objects are <code>abs2004</code>, <code>abs2007</code>, <code>abs2010</code>, <code>abs2013</code> and <code>abs2019</code>. They include all of the variables in the other Census objects, aside from population, area, state and question non-response.</p>
</div>
</div>
<div id="for-more-details-on-how-the-data-in-this-package-was-obtained" class="section level1">
<h1 class="hasAnchor">
<a href="#for-more-details-on-how-the-data-in-this-package-was-obtained" class="anchor"></a>For more details on how the data in this package was obtainedâ€¦</h1>
<p>Please see the vignettes on our <a href="https://jforbes14.github.io/eechidna/">webpage</a>. These detail the procedures used to obtain the election data, Census data and electorate maps, as well as the Census imputation method.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Jeremy Forbes, Di Cook, Anthony Ebert, Heike Hofmann, Rob Hyndman, Thomas Lumley, Ben Marwick, Carson Sievert, Mingzhu Sun, Dilini Talagala, Nicholas Tierney, Nathaniel Tomasetti, Earo Wang, Fang Zhou.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
